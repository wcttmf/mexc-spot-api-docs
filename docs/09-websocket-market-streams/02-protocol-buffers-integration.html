<h2 id="protocol-buffers-integration">Protocol Buffers Integration</h2>
<p>The current websocket push uses the protobuf format. The specific integration process is as follows:</p>
<p>1.<strong>PB File Definition</strong><br/>
   The PB definition files can be obtained via the provided link:<a href="https://github.com/mexcdevelop/websocket-proto">https://github.com/mexcdevelop/websocket-proto</a></p>
<p>2.<strong>Generate Deserialization Code</strong><br/>
   Use the tool available at <a href="https://github.com/protocolbuffers/protobuf">https://github.com/protocolbuffers/protobuf</a> to compile the .proto files and generate deserialization code.</p>
<blockquote>
<p><strong>Java</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>   protoc <span class="k">*</span>.proto <span class="nt">--java_out</span><span class="o">=</span>python custom_path
</code></pre></div>
<blockquote>
<p><strong>Python</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>   protoc <span class="k">*</span>.proto <span class="nt">--python_out</span><span class="o">=</span>python custom_path
</code></pre></div>
<blockquote>
<p><strong>Others</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>   Multiple languages are supported, including C++, C#, Go, Ruby, PHP, JS, etc. For details, see [https://github.com/protocolbuffers/protobuf](https://github.com/protocolbuffers/protobuf).
</code></pre></div>
<p>3.<strong>Data Deserialization</strong><br/>
   Use the code generated in the previous step to deserialize the data.</p>
<blockquote>
<p><strong>Java</strong><br/>
   Include the protobuf-java dependency:</p>
</blockquote>
<div class="highlight"><pre class="highlight xml tab-xml"><code>   <span class="nt">&lt;dependency&gt;</span>
       <span class="nt">&lt;groupId&gt;</span>com.google.protobuf<span class="nt">&lt;/groupId&gt;</span>
       <span class="nt">&lt;artifactId&gt;</span>protobuf-java<span class="nt">&lt;/artifactId&gt;</span>
       <span class="nt">&lt;version&gt;</span>{protobuf.version}<span class="nt">&lt;/version&gt;</span> <span class="c">&lt;!-- Specify the version as per your project requirements --&gt;</span>
   <span class="nt">&lt;/dependency&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>   <span class="c1">//Parsing example:</span>

   <span class="c1">// Assemble the object</span>
   <span class="nc">PushDataV3ApiWrapper</span> <span class="n">pushDataV3ApiWrapper</span> <span class="o">=</span> <span class="nc">PushDataV3ApiWrapper</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
           <span class="o">.</span><span class="na">setChannel</span><span class="o">(</span><span class="s">"spot@public.aggre.depth.v3.api.pb@10ms"</span><span class="o">)</span>
           <span class="o">.</span><span class="na">setSymbol</span><span class="o">(</span><span class="s">"BTCUSDT"</span><span class="o">)</span>
           <span class="o">.</span><span class="na">setSendTime</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">())</span>
           <span class="o">.</span><span class="na">build</span><span class="o">();</span>

   <span class="c1">// Serialize to a byte array</span>
   <span class="kt">byte</span><span class="o">[]</span> <span class="n">serializedData</span> <span class="o">=</span> <span class="n">pushDataV3ApiWrapper</span><span class="o">.</span><span class="na">toByteArray</span><span class="o">();</span>

   <span class="c1">// Deserialize into a PushDataV3ApiWrapper object</span>
   <span class="nc">PushDataV3ApiWrapper</span> <span class="n">resultV3</span> <span class="o">=</span> <span class="nc">PushDataV3ApiWrapper</span><span class="o">.</span><span class="na">parseFrom</span><span class="o">(</span><span class="n">serializedData</span><span class="o">);</span>
</code></pre></div>
<blockquote>
<p><strong>Python</strong> </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code>   <span class="c1">#Parsing example:
</span>
   <span class="kn">import</span> <span class="nn">PushDataV3ApiWrapper_pb2</span>

   <span class="c1"># Assemble the object
</span>   <span class="n">pushData</span> <span class="o">=</span> <span class="n">PushDataV3ApiWrapper_pb2</span><span class="p">.</span><span class="n">PushDataV3ApiWrapper</span><span class="p">()</span>
   <span class="n">pushData</span><span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="s">'spot@public.aggre.depth.v3.api.pb@10ms'</span>
   <span class="n">pushData</span><span class="p">.</span><span class="n">symbol</span> <span class="o">=</span> <span class="s">'BTCUSDT'</span>

   <span class="c1"># Serialize to a string
</span>   <span class="n">serializedData</span> <span class="o">=</span> <span class="n">pushData</span><span class="p">.</span><span class="n">SerializeToString</span><span class="p">()</span>

   <span class="c1"># Deserialize into a PushDataV3ApiWrapper object
</span>   <span class="n">result</span> <span class="o">=</span> <span class="n">PushDataV3ApiWrapper_pb2</span><span class="p">.</span><span class="n">PushDataV3ApiWrapper</span><span class="p">()</span>
   <span class="n">result</span><span class="p">.</span><span class="n">ParseFromString</span><span class="p">(</span><span class="n">serializedData</span><span class="p">)</span>
   <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
<hr/>
<h3 id="subscribe-to-a-data-stream">Subscribe to a Data Stream</h3>
<blockquote>
<p><strong>Subscription Channel Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot@public.aggre.deals.v3.api.pb@100ms@BTCUSDT"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><strong>Request</strong></li>
</ul>
<p>{
 "method": "SUBSCRIPTION",
 "params": ["spot@public.aggre.deals.v3.api.pb@100ms@BTCUSDT"]
}</p>
<hr/>
<h3 id="unsubscribe-from-a-data-stream">Unsubscribe from a Data Stream</h3>
<blockquote>
<p><strong>Unsubscription Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot@public.increase.depth.v3.api.pb@BTCUSDT"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><strong>Request</strong></li>
</ul>
<p>{
 "method": "UNSUBSCRIPTION",
 "params": ["spot@public.aggre.deals.v3.api.pb@100ms@BTCUSDT"]
}</p>
<hr/>
<h3 id="ping-pong-mechanism">PING/PONG Mechanism</h3>
<blockquote>
<p><strong>PING/PONG Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PONG"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><strong>Request</strong></li>
</ul>
<p>{"method": "PING"}</p>
<hr/>
